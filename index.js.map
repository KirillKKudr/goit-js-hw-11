{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '46859410-d5a1b7b8d3c8579cf11d58e8b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  return axios.get(url)\n    .then(response => response.data.hits)  \n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n\n\n","\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport const showNoResultsMessage = () => {\n  iziToast.info({\n    title: 'No Results',\n    message: 'Sorry, there are no images matching your search query. Please try again!'\n  });\n};\n\n\nexport const renderImages = (images, container) => {\n  const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p><b>Likes:</b> ${likes}</p>\n          <p><b>Views:</b> ${views}</p>\n          <p><b>Comments:</b> ${comments}</p>\n          <p><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </li>\n    `;\n  }).join('');\n  container.innerHTML = markup;  \n};\n","\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages, showNoResultsMessage } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.search-form');\nconst galleryContainer = document.querySelector('.gallery');\nconst perPage = 12;\nlet currentPage = 1;\nlet lightbox;\n\n\nconst initializeLightbox = () => {\n  lightbox = new SimpleLightbox('.gallery a');\n};\n\n\nconst showLoader = () => {\n  document.querySelector('.loader').style.display = 'block';\n};\nconst hideLoader = () => {\n  document.querySelector('.loader').style.display = 'none';\n};\n\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const query = event.currentTarget.elements.search.value.trim();\n\n  if (query === '') {\n    showNoResultsMessage();\n    return;\n  }\n\n \n  showLoader();\n\n  fetchImages(query, currentPage, perPage)\n    .then(images => {\n      hideLoader();\n      if (images.length === 0) {\n        showNoResultsMessage();\n      } else {\n        renderImages(images, galleryContainer);  \n        initializeLightbox();  \n        lightbox.refresh();\n      }\n      form.reset(); \n    })\n    .catch(error => {\n      hideLoader();\n      console.error('Error processing images:', error);\n      iziToast.error({ title: 'Error', message: 'Failed to load images' });\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","axios","response","error","showNoResultsMessage","iziToast","renderImages","images","container","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","galleryContainer","currentPage","lightbox","initializeLightbox","SimpleLightbox","showLoader","hideLoader","event"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CACzD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAI,aAAaC,CAAO,GAE1I,OAAOE,EAAM,IAAID,CAAG,EACjB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCRO,MAAMC,EAAuB,IAAM,CACxCC,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACb,CAAG,CACH,EAGaC,EAAe,CAACC,EAAQC,IAAc,CACjD,MAAMC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxF;AAAA;AAAA,mBAEQL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6BAGnBC,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA;AAAA,KAIvC,EAAE,KAAK,EAAE,EACVR,EAAU,UAAYC,CACxB,ECxBMQ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EACpDnB,EAAU,GAChB,IAAIoB,EAAc,EACdC,EAGJ,MAAMC,EAAqB,IAAM,CAC/BD,EAAW,IAAIE,EAAe,YAAY,CAC5C,EAGMC,EAAa,IAAM,CACvB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OACpD,EACMC,EAAa,IAAM,CACvB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,EAGAP,EAAK,iBAAiB,SAAWQ,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAM5B,EAAQ4B,EAAM,cAAc,SAAS,OAAO,MAAM,OAExD,GAAI5B,IAAU,GAAI,CAChBO,IACA,MACD,CAGDmB,IAEA3B,EAAYC,EAAOsB,EAAapB,CAAO,EACpC,KAAKQ,GAAU,CACdiB,IACIjB,EAAO,SAAW,EACpBH,KAEAE,EAAaC,EAAQW,CAAgB,EACrCG,IACAD,EAAS,QAAO,GAElBH,EAAK,MAAK,CAChB,CAAK,EACA,MAAMd,GAAS,CACdqB,IACA,QAAQ,MAAM,2BAA4BrB,CAAK,EAC/C,SAAS,MAAM,CAAE,MAAO,QAAS,QAAS,uBAAuB,CAAE,CACzE,CAAK,CACL,CAAC"}